{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\JBrown\\\\Ride-For-Life-FE\\\\ride-for-life\\\\Ride-For-Life-FE-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\JBrown\\\\Ride-For-Life-FE\\\\ride-for-life\\\\Ride-For-Life-FE-development\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\JBrown\\\\Ride-For-Life-FE\\\\ride-for-life\\\\Ride-For-Life-FE-development\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../utils/AxiosWithAuth\";\nconst emptyForm = {\n  username: '',\n  password: ''\n};\n\nconst Login = props => {\n  const _useState = useState(emptyForm),\n        _useState2 = _slicedToArray(_useState, 2),\n        info = _useState2[0],\n        setInfo = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        userType = _useState4[0],\n        setUserType = _useState4[1];\n\n  const handleChange = e => {\n    setInfo(_objectSpread({}, info, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axiosWithAuth().post('api/auth/login', info).then(res => {\n      console.log(res.data);\n      localStorage.setItem('token', res.data.payload);\n      setInfo(emptyForm);\n      setUserType(res.data);\n\n      if ('driverID' in userType) {\n        props.history.push('/DriverAccount');\n      } else {\n        props.history.push('/UserAccount');\n      }\n\n      console.log(res.data);\n    }).catch(error => console.log(error, \"Login Error\"));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"RideApp\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Welcome to Ride for Life, Please sign in!\"), React.createElement(\"div\", {\n    className: \"loginContainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"loginForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Username\",\n    value: info.username,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    value: info.password,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"button\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Login\")))));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/JBrown/Ride-For-Life-FE/ride-for-life/Ride-For-Life-FE-development/src/components/Login.js"],"names":["React","useState","axiosWithAuth","emptyForm","username","password","Login","props","info","setInfo","userType","setUserType","handleChange","e","target","name","value","handleSubmit","preventDefault","post","then","res","console","log","data","localStorage","setItem","payload","history","push","catch","error"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,aAAT,QAA8B,wBAA9B;AAEA,MAAMC,SAAS,GAAG;AACdC,EAAAA,QAAQ,EAAE,EADI;AAEdC,EAAAA,QAAQ,EAAE;AAFI,CAAlB;;AAKA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AAAA,oBACGN,QAAQ,CAACE,SAAD,CADX;AAAA;AAAA,QACdK,IADc;AAAA,QACRC,OADQ;;AAAA,qBAEWR,QAAQ,CAAC,EAAD,CAFnB;AAAA;AAAA,QAEdS,QAFc;AAAA,QAEJC,WAFI;;AAGrB,QAAMC,YAAY,GAAGC,CAAC,IAAI;AACtBJ,IAAAA,OAAO,mBACAD,IADA;AAEH,OAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFvB,OAAP;AAIH,GALD;;AAOA,QAAMC,YAAY,GAAGJ,CAAC,IAAI;AACtBA,IAAAA,CAAC,CAACK,cAAF;AACAhB,IAAAA,aAAa,GACRiB,IADL,CACU,gBADV,EAC4BX,IAD5B,EAEKY,IAFL,CAEUC,GAAG,IAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,GAAG,CAACG,IAAJ,CAASG,OAAvC;AACAlB,MAAAA,OAAO,CAACN,SAAD,CAAP;AACAQ,MAAAA,WAAW,CAACU,GAAG,CAACG,IAAL,CAAX;;AACA,UAAK,cAAcd,QAAnB,EAA8B;AAC1BH,QAAAA,KAAK,CAACqB,OAAN,CAAcC,IAAd,CAAmB,gBAAnB;AACH,OAFD,MAEO;AACHtB,QAAAA,KAAK,CAACqB,OAAN,CAAcC,IAAd,CAAmB,cAAnB;AACH;;AACDP,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACH,KAbL,EAcKM,KAdL,CAcWC,KAAK,IAAIT,OAAO,CAACC,GAAR,CAAYQ,KAAZ,EAAmB,aAAnB,CAdpB;AAeH,GAjBD;;AAkBA,SACI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDADJ,EAEI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,QAAQ,EAAEd,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,WAAW,EAAC,UAHhB;AAII,IAAA,KAAK,EAAET,IAAI,CAACJ,QAJhB;AAKI,IAAA,QAAQ,EAAEQ,YALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAQI;AACI,IAAA,IAAI,EAAC,UADT;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,WAAW,EAAC,UAHhB;AAII,IAAA,KAAK,EAAEJ,IAAI,CAACH,QAJhB;AAKI,IAAA,QAAQ,EAAEO,YALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,EAeI;AAAQ,IAAA,SAAS,EAAC,QAAlB;AAA2B,IAAA,IAAI,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAfJ,CADJ,CADJ,CAFJ,CADJ;AA0BH,CAtDD;;AAwDA,eAAeN,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../utils/AxiosWithAuth\";\n\nconst emptyForm = {\n    username: '',\n    password: ''\n}\n\nconst Login = (props) => {\n    const [info, setInfo] = useState(emptyForm)\n    const [userType, setUserType] = useState('')\n    const handleChange = e => {\n        setInfo({\n            ...info,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        axiosWithAuth()\n            .post('api/auth/login', info)\n            .then(res => {\n                console.log(res.data)\n                localStorage.setItem('token', res.data.payload);\n                setInfo(emptyForm)\n                setUserType(res.data)\n                if (('driverID' in userType)) {\n                    props.history.push('/DriverAccount')\n                } else {\n                    props.history.push('/UserAccount')\n                }\n                console.log(res.data)\n            })\n            .catch(error => console.log(error, \"Login Error\"))\n    }\n    return (\n        <div className=\"RideApp\">\n            <h1>Welcome to Ride for Life, Please sign in!</h1>\n            <div className=\"loginContainer\">\n                <form onSubmit={handleSubmit}>\n                    <div className=\"loginForm\">\n                        <input\n                            type=\"text\"\n                            name=\"username\"\n                            placeholder=\"Username\"\n                            value={info.username}\n                            onChange={handleChange}\n                        />\n                        <input\n                            type=\"password\"\n                            name=\"password\"\n                            placeholder=\"Password\"\n                            value={info.password}\n                            onChange={handleChange}\n                        />\n                        <button className=\"button\" type=\"submit\">Login</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}