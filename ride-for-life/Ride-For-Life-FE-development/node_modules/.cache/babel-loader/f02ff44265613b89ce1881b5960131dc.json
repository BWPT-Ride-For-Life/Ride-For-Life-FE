{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JBrown\\\\Ride-For-Life-FE\\\\ride-for-life\\\\Ride-For-Life-FE-development\\\\src\\\\components\\\\SearchByLocation.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport DriverCard from \"./DriverCard\";\nexport default class Search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: null,\n      drivers: []\n    };\n  }\n\n  componentDidMount() {\n    this.searchDriver(this.state.query);\n  }\n\n  onChange(e) {\n    e.preventDefault();\n    this.setState({\n      query: e.target.value\n    }, () => {\n      if (this.state.query && this.state.query.length > 1) {\n        if (this.state.query.length % 2 === 0) {\n          this.searchDriver(this.state.query);\n        }\n      } else {\n        this.searchDriver(this.state.query);\n      }\n    });\n  }\n\n  searchDriver(query) {\n    const url = \"https://ride-for-life-bw.herokuapp.com/api/drivers\"; // api url\n\n    if (query) {\n      axios.get(url).then(r => {\n        return r.data;\n      }).then(data => {\n        let drivers = data.filter(drivers => drivers.location === query).map(drivers => {\n          return React.createElement(DriverCard, {\n            key: drivers.id,\n            driver: drivers,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          });\n        });\n        this.setState({\n          drivers: drivers\n        });\n        console.log(\"state\", drivers);\n      });\n    } else {\n      axios.get(url).then(r => {\n        return r.data;\n      }).then(data => {\n        let drivers = data.map(() => {\n          //drivers\n          return '';\n        });\n        this.setState({\n          drivers: drivers\n        });\n        console.log(\"state\", drivers);\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"search-box\",\n      placeholder: \"Search driver location...\",\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), this.state.drivers);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/JBrown/Ride-For-Life-FE/ride-for-life/Ride-For-Life-FE-development/src/components/SearchByLocation.js"],"names":["React","Component","axios","DriverCard","Search","constructor","props","state","query","drivers","componentDidMount","searchDriver","onChange","e","preventDefault","setState","target","value","length","url","get","then","r","data","filter","location","map","id","console","log","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nimport DriverCard from \"./DriverCard\";\n\nexport default class Search extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            query: null,\n            drivers: [],\n        }\n    }\n\n\n    componentDidMount() {\n        this.searchDriver(this.state.query);\n    }\n\n    onChange(e) {\n        e.preventDefault()\n        this.setState({ query: e.target.value }, () => {\n            if (this.state.query && this.state.query.length > 1) {\n                if (this.state.query.length % 2 === 0) {\n                    this.searchDriver(this.state.query);\n                }\n            } else {\n                this.searchDriver(this.state.query);\n            }\n        })\n    }\n\n    searchDriver(query) {\n        const url = \"https://ride-for-life-bw.herokuapp.com/api/drivers\" // api url\n\n        if (query) {\n            axios\n                .get(url)\n                .then(r => {\n                    return r.data;\n                })\n                .then(data => {\n                    let drivers = data.filter(drivers => drivers.location === query).map((drivers) => {\n                        return (\n                            <DriverCard  key={drivers.id} driver={drivers}/>\n                        )\n                    })\n                    this.setState({ drivers: drivers });\n                    console.log(\"state\", drivers)\n                })\n        } else {\n            axios\n                .get(url)\n                .then(r => {\n                    return r.data;\n                })\n                .then(data => {\n                    let drivers = data.map(() => { //drivers\n                        return ( ''\n                        )\n                    })\n                    this.setState({ drivers: drivers });\n                    console.log(\"state\", drivers)\n                })\n        }\n    }\n\n    render() {\n        return (\n            <form>\n                <input\n                    type=\"text\"\n                    className=\"search-box\"\n                    placeholder=\"Search driver location...\"\n                    onChange={this.onChange.bind(this)}\n                />\n                {this.state.drivers}\n            </form>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}